disable_query_log;
disable_warnings;
DROP TABLE IF EXISTS t1;
enable_warnings;
enable_query_log;

CREATE TABLE t1 (
  id BIGINT NOT NULL PRIMARY KEY,
  vector1 JSON,
  INDEX vector_key_1(vector1) FB_VECTOR_INDEX_TYPE 'flat' FB_VECTOR_INDEX_METRIC 'l2' fb_vector_dimension 1024
);

SHOW CREATE TABLE t1;

SELECT INDEX_TYPE, METRIC_TYPE, DIMENSION, NTOTAL FROM INFORMATION_SCHEMA.ROCKSDB_VECTOR_INDEX WHERE TABLE_NAME = 't1';

insert into t1 values (1, '[1,2,3]'), (2, '[2,22,31]');

SELECT INDEX_TYPE, METRIC_TYPE, DIMENSION, NTOTAL FROM INFORMATION_SCHEMA.ROCKSDB_VECTOR_INDEX WHERE TABLE_NAME = 't1';

drop table t1;

SELECT INDEX_TYPE, METRIC_TYPE, DIMENSION, NTOTAL FROM INFORMATION_SCHEMA.ROCKSDB_VECTOR_INDEX WHERE TABLE_NAME = 't1';
